<style type="text/css">
    * {
        margin:0;
        padding: 0;
    }
    div {
        height:30px;
        width:30px;
        position: absolute;
        background: red;
    }
    p {
        height:20px;
        width:80px;
        display: block;
        background: blue;
        bottom:100px;
        position: absolute;
    }
    span {
        display: block;
        position: absolute;
        left:30px;
    }
</style>
    <p></p>
    <span></span>
<script>
    var oHeight = document.documentElement.scrollHeight;
    var oWidth = document.documentElement.scrollWidth;
    var d = document.getElementsByTagName('div');
    var p = document.getElementsByTagName('p')[0];
    var idx = 0;
    var span = document.getElementsByTagName('span')[0];
    var blood = 10;
    var timer;
    timer = setInterval(function player(){
        var a = document.createElement('div');
        document.body.appendChild(a);
        a.style.left = oWidth * Math.random();
        setInterval(function(){
            a.style.top = a.offsetTop + 10 + 'px';
            if (parseInt(a.style.top) > oHeight - 200 && parseInt(a.style.left)-parseInt(p.style.left) < 80 && parseInt(a.style.left)-parseInt(p.style.left) > 0){
                document.body.removeChild(a);
                idx++;
            } else if (parseInt(a.style.top) > oHeight - 200){
                document.body.removeChild(a);
                blood--;
                writeMsg();
                if (blood === 0) {
                    alert('game over!');
                    alert('你获得了'+ idx +'分!' );
                    idx = 0;
                    blood = 10;
                }
            }
        },30)
    },500)
    document.onmousemove = function(e){
        var l = e.clientX;
        var iWidth = p.offsetWidth;
        p.style.left = l - iWidth/2 + 'px';
    }
    function writeMsg(){
        span.innerHTML = '您还剩' + blood + '血量!';
    }
</script>
